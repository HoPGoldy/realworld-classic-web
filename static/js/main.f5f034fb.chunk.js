(this["webpackJsonprealworld-classic-web"]=this["webpackJsonprealworld-classic-web"]||[]).push([[0],{119:function(e,t,r){},152:function(e,t){},266:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r(107),a=r.n(n),s=(r(119),r(4)),i=r(0),o=function(e){var t=e.errorMsg;return!t||Object.keys(t).length<=0?null:Object.entries(t).map((function(e){return e.join(" ")})).map((function(e){return Object(i.jsx)("div",{className:"error",children:e},e)}))},l=r(2),j=r(28),u=r.n(j),b=r(11),d=Object(b.b)(),O=function(e){var t=e.pathname.split("/").join(" ");document.title="".concat(t," \u2014\u2014 Conduit")};d.listen(O),O(window.location);var h=d,x=r(268),m=function(e){e?u.a.defaults.headers.common.authorization="Token ".concat(e):delete u.a.defaults.headers.common.authorization};u.a.defaults.baseURL="https://api.realworld.io/api",u.a.interceptors.response.use((function(e){return e.data}),(function(e){throw 401===e.response.status?(h.push("/login"),m(void 0),localStorage.removeItem("token")):404===e.response.status&&h.push("/home"),e}));var p=function(e,t){return Object(x.a)(e,Object(l.a)(Object(l.a)({},t),{},{requestMethod:function(e){return u()(e)}}))},f=u.a,g=function(e){var t=e.article,r=t.favorited,c=t.favoritesCount,n=t.slug,a=e.onChange,s="".concat(r?"\ud83d\udc97 liked":"\ud83e\udd0d like"," ").concat(c),o=p({method:r?"delete":"post",url:"/articles/".concat(n,"/favorite")},{manual:!0,onSuccess:function(e){return a(e.article)}}).run;return Object(i.jsx)("span",{style:{fontSize:"medium"},className:"link-btn",onClick:o,children:s})},v=function(e){return Object(i.jsxs)("span",{children:["\xa0",Object(i.jsx)(s.a,{to:{pathname:"/home",search:"?tag=".concat(e)},children:e}),"\xa0"]},e)},y=function(e){var t=e.title,r=e.author,c=e.timeLabel,n=e.body,a=e.tagList,o=e.slug,l=e.updateItem;return Object(i.jsxs)("li",{children:[Object(i.jsxs)("h2",{children:[Object(i.jsx)(s.a,{to:"/article/".concat(o),children:t}),"\xa0\xa0",Object(i.jsx)(g,{article:e,onChange:l})]}),Object(i.jsxs)("ul",{children:[Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Author:"})," ",Object(i.jsxs)(s.a,{to:"/user/".concat(r.username,"/my"),children:[" ",r.username]})]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Update at:"})," ",c]}),a&&a.length>0&&Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Tag:"})," ",a.map(v)]})]}),Object(i.jsx)("p",{children:n})]})},w=r(38),k=r.n(w),C=function(e){var t=Object(l.a)(Object(l.a)({},k.a.parse(window.location.search,{ignoreQueryPrefix:!0})),e);return k.a.stringify(t)},N=function(e){var t=e.total,r=e.size,c=void 0===r?10:r,n=Math.ceil(t/c);return Array(n).fill().map((function(e,t){return Object(i.jsxs)("span",{children:["\xa0",Object(i.jsx)(s.a,{to:function(e){return"".concat(e.pathname,"?").concat(C({page:t}))},children:t+1}),"\xa0"]},t)}))},F=r(34),S=r.n(F),I=function(e){var t=e.tag,r=e.page,n=void 0===r?0:r,a=e.author,s=e.favorited,o=e.url,j=void 0===o?"/articles":o,u=function(e){return Object(l.a)(Object(l.a)({},e),{},{timeLabel:S()(e.updatedAt).format("YYYY-MM-DD HH:mm:ss")})},b=p({url:j,params:{author:a,favorited:s,tag:t,limit:10,offset:10*n}},{initialData:{articles:[],total:0},refreshDeps:[a,s,j,t,n],formatResult:function(e){var t=e.articles,r=e.articlesCount;return{articles:t.map(u),total:r}}}),d=b.data,O=d.articles,h=d.total,x=b.error,m=b.loading,f=b.mutate,g=Object(c.useMemo)((function(){return Object(i.jsx)(N,{total:h,size:10})}),[h]),v=function(e){var t=O.map((function(t){return t.slug===e.slug?u(e):t}));f({articles:t,total:h})};return x?Object(i.jsx)("p",{style:{color:"red"},children:"loading fail!"}):m?Object(i.jsx)("p",{children:"loading..."}):0===O.length?Object(i.jsx)("p",{children:"No articles are here... yet."}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("section",{children:Object(i.jsx)("ul",{children:O.map((function(e){return Object(i.jsx)(y,Object(l.a)(Object(l.a)({},e),{},{updateItem:v}),e.slug)}))})}),h>0&&Object(i.jsxs)("nav",{className:"flex-wrap",children:[Object(i.jsx)("b",{children:"Pagination: "}),g,Object(i.jsx)("br",{}),Object(i.jsx)("br",{})]})]})},A=function(e){var t=e.author,r=e.createTime,c=e.body,n=e.currentUserName,a=e.id,s=e.article.slug,o=e.onDelete,l=p({url:"/articles/".concat(s,"/comments/").concat(a),method:"delete"},{manual:!0,onSuccess:o}).run,j=null;return n===t.username&&(j=Object(i.jsx)("span",{className:"link-btn",style:{color:"red"},onClick:l,children:"\u274c Delete Comment"})),Object(i.jsxs)("li",{children:[Object(i.jsxs)("p",{children:[c," ",j]}),Object(i.jsxs)("ul",{children:[Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Author:"})," ",t.username]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Update at:"})," ",r]})]})]})},Y=function(e){var t=e.userInfo,r=e.onUserInfoChange,c=p({url:"/profiles/".concat(t.username,"/follow"),method:t.following?"delete":"post"},{manual:!0,onSuccess:function(e){return r(e.profile)}}).run;return Object(i.jsx)("span",{className:"link-btn",onClick:c,children:"".concat(t.following?"\ud83d\ude00 unfollow":"\ud83d\ude36 follow"," ").concat(t.username)})},U=Object(i.jsx)("div",{className:"page-part",children:Object(i.jsxs)("p",{className:"flex-wrap flex-center",children:[Object(i.jsx)("b",{children:"Github:"}),"\xa0",Object(i.jsx)("a",{href:"https://github.com/HoPGoldy/realworld-classic-web",target:"__blank",children:"RealWorld"}),"\xa0\xa0",Object(i.jsx)("b",{children:"Author:"}),"\xa0",Object(i.jsx)("a",{href:"https://github.com/HoPGoldy",target:"__blank",children:"@HoPGoldy"})]})}),D=function(e){var t=e.title,r=e.summary,c=r?Object(i.jsx)("p",{children:"function"===typeof r?r():r}):null;return Object(i.jsxs)("div",{className:"page-part",children:[Object(i.jsx)("h1",{children:t}),c]})},P=function(){return Object(i.jsx)("span",{children:"\xa0\xa0|\xa0\xa0"})},M=r(6),E=function(){var e=Object(M.h)();return Object(l.a)(Object(l.a)({},e),{},{query:k.a.parse(e.search,{ignoreQueryPrefix:!0})})},V=r(24),H=Object(c.createContext)(),T=function(e){var t=Object(c.useState)(void 0),r=Object(V.a)(t,2),n=r[0],a=r[1];return Object(i.jsx)(H.Provider,{value:{userInfo:n,setUserInfo:a},children:e.children})},q=function(){var e=Object(c.useContext)(H).userInfo,t=E().query,r=t.tag,n=t.page,a=void 0===n?0:n,o=t.yourFeed,l=p("/tags",{formatResult:function(e){return e.tags}}).data,j=void 0===l?[]:l,u=e&&o?"/articles/feed":"/articles";return Object(i.jsxs)("div",{children:[Object(i.jsx)(D,{title:"Conduit",summary:"A place to share your knowledge."}),Object(i.jsxs)("nav",{children:[Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:"flex-wrap",children:[Object(i.jsx)("b",{children:"Popular Tags: "}),j.map(v)]}),Object(i.jsx)("br",{}),Object(i.jsx)("b",{children:"Views: "}),Object(i.jsx)(s.a,{to:"/home",children:"global feed"}),"\xa0\xa0",r&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(s.a,{to:"/home?tag=".concat(r),children:["#",r]}),"\xa0\xa0"]}),e&&Object(i.jsx)(s.a,{to:"/home?yourFeed=1",children:"Your Feed"})]}),Object(i.jsx)(I,{url:u,tag:r,page:a})]})},R=r(10),L=r.n(R),_=r(18),z=r(23),G=Object(z.a)()((function(e){var t=e.form,r=t.getFieldProps,n=t.getFieldError,a=t.resetFields,j=Object(c.useContext)(H).setUserInfo,u=Object(M.g)(),b=Object(M.h)(),d=Object(c.useState)(void 0),O=Object(V.a)(d,2),h=O[0],x=O[1],p=function(){return"/login"===b.pathname},g=function(){var t=Object(_.a)(L.a.mark((function t(){var r,c,n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.form.validateFields();case 2:return r=t.sent,x(void 0),t.prev=4,c=p()?"users/login":"users",t.next=8,f.post(c,{user:r});case 8:n=t.sent,localStorage.setItem("token",n.user.token),m(n.user.token),j(n.user),u.replace("/home"),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(4),console.error(t.t0.response.data.errors),x(t.t0.response.data.errors);case 19:case"end":return t.stop()}}),t,null,[[4,15]])})));return function(){return t.apply(this,arguments)}}(),v=function(e,t,c){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("label",{children:[e,":",Object(i.jsx)("input",Object(l.a)(Object(l.a)({},r(t,{rules:[{required:!0}],initialValue:""})),{},{type:c||"text"}))]}),Object(i.jsx)("span",{className:"error",children:n(t)}),Object(i.jsx)("br",{})]})};Object(c.useEffect)((function(){x([]),a()}),[b.pathname,a]);var y=p()?Object(i.jsx)(D,{title:"Sign in",summary:function(){return Object(i.jsx)(s.a,{to:"/register",children:"Need an account?"})}}):Object(i.jsx)(D,{title:"Sign up",summary:function(){return Object(i.jsx)(s.a,{to:"/login",children:"Have an account?"})}});return Object(i.jsxs)("section",{children:[y,Object(i.jsxs)("form",{children:[Object(i.jsx)(o,{errorMsg:h}),!p()&&v("Username","username"),v("Email","email"),v("Password","password","password"),Object(i.jsx)("br",{}),Object(i.jsx)("button",{type:"button",onClick:g,children:p()?"Sign in":"Sign up"})]})]})})),W=r(267),B=Object(z.a)()((function(e){var t=e.form,r=t.getFieldProps,n=t.getFieldError,a=t.setFieldsValue,o=Object(M.g)(),j=Object(M.i)().id,u=Object(c.useContext)(H).userInfo,b=function(e){return Object(l.a)(Object(l.a)({},e),{},{createTime:S()(e.createdAt).format("YYYY-MM-DD HH:mm:ss"),updateTime:S()(e.updatedAt).format("YYYY-MM-DD HH:mm:ss")})},d=function(e){return Object(l.a)(Object(l.a)({},e),{},{createTime:S()(e.createdAt).format("YYYY-MM-DD HH:mm:ss")})},O=p("/articles/".concat(j,"/comments"),{manual:!0,formatResult:function(e){return e.comments.map(d)},loadingDelay:1e3}),h=O.data,x=void 0===h?[]:h,m=O.loading,y=O.error,w=O.run,k=p("/articles/".concat(j),{formatResult:function(e){return b(e.article)}}),C=k.data,N=k.loading,F=k.error,I=k.mutate,U=function(){var t=Object(_.a)(L.a.mark((function t(){var r;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.form.validateFields();case 2:return r=t.sent,t.next=5,f.post("/articles/".concat(j,"/comments"),{comment:r});case 5:a({body:""}),w();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(){var e=Object(_.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.delete("/articles/".concat(j));case 2:o.replace("/user/".concat(u.username));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(W.a)(w),N)return Object(i.jsx)("p",{children:"Loading..."});if(F)return Object(i.jsx)("p",{style:{color:"red"},children:"article loading fail!"});var V,T=C.title,q=C.description,R=C.createTime,z=C.updateTime,G=C.body,B=C.author,J=C.tagList;y?V=Object(i.jsx)("p",{style:{color:"red"},children:"comments loading fail!"}):m?V="loading...":x.length<=0?V="No Comments.":x.length>0&&(V=x.map((function(e){return Object(i.jsx)(A,Object(l.a)(Object(l.a)({article:C},e),{},{currentUserName:null===u||void 0===u?void 0:u.username,onDelete:w}),e.id)})));var Q=!!u&&u.username===C.author.username;return Object(i.jsxs)("section",{children:[Object(i.jsx)(D,{title:T,summary:function(){return Object(i.jsxs)("span",{children:[Object(i.jsx)("b",{children:"Article"}),Object(i.jsx)(P,{}),Q?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(s.a,{to:"/editor/".concat(j),children:"\ud83d\udcdd Edit article"}),Object(i.jsx)(P,{}),Object(i.jsx)("span",{className:"link-btn",style:{color:"red"},onClick:E,children:"\u274c Delete article"})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Y,{userInfo:B,onUserInfoChange:function(e){return I(Object(l.a)(Object(l.a)({},C),{},{author:e}))}}),Object(i.jsx)(P,{}),Object(i.jsx)(g,{article:C,onChange:function(e){return I(b(e))}})]})]})}}),Object(i.jsx)("br",{}),Object(i.jsx)("b",{children:"Description: "}),q,Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("b",{children:"Author: "})," ",Object(i.jsxs)(s.a,{to:"/user/".concat(B.username),children:[" ",B.username]}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("b",{children:"Created at: "}),R,Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("b",{children:"Updated at: "}),z,J&&J.length>0&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:"flex-wrap",children:[Object(i.jsx)("b",{children:"Tag:"})," ",J.map(v)]})]}),Object(i.jsx)("h2",{children:"Content:"}),Object(i.jsx)("ul",{children:G}),Object(i.jsx)("h2",{children:"Comment:"}),Object(i.jsxs)("form",{children:[Object(i.jsx)("textarea",Object(l.a)(Object(l.a)({placeholder:"type your comment here."},r("body",{rules:[{required:!0}],initialValue:""})),{},{style:{height:"100px"}})),Object(i.jsx)("span",{className:"error",children:n("body")}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{type:"button",onClick:U,children:"Post Comment"})]}),Object(i.jsx)("ul",{children:V})]})})),J=[{key:"my",label:"My Articles"},{key:"favorited",label:"Favorited Articles"}],Q=function(){var e=Object(M.i)(),t=e.username,r=e.tab,n=E().query.page,a=Object(M.g)(),o=Object(c.useContext)(H).userInfo;Object(c.useEffect)((function(){if(!r||!J.find((function(e){return e.key===r})))return a.replace("/user/".concat(t,"/").concat(J[0].key)),"Redirecting..."}),[r,a,t]);var l=p("/profiles/".concat(t),{formatResult:function(e){return e.profile}}),j=l.data,u=void 0===j?[]:j,b=l.mutate,d=o?o.username===t:void 0;return Object(i.jsxs)("div",{children:[Object(i.jsx)(D,{title:t,summary:function(){return Object(i.jsxs)("span",{children:[Object(i.jsx)("b",{children:"User"}),Object(i.jsx)(P,{}),u.bio&&Object(i.jsxs)(i.Fragment,{children:[u.bio,Object(i.jsx)(P,{})]}),d?Object(i.jsx)(s.a,{to:"/settings",children:"\ud83d\udd28 Edit Profile Settings"}):Object(i.jsx)(Y,{userInfo:u,onUserInfoChange:b}),Object(i.jsx)(P,{}),Object(i.jsx)("a",{href:u.image,target:"__blank",children:"\ud83c\udfab see Avatar"})]})}}),Object(i.jsxs)("nav",{children:[Object(i.jsx)("br",{}),Object(i.jsx)("b",{children:"Views: "}),J.map((function(e){return Object(i.jsxs)("span",{children:["\xa0",Object(i.jsx)(s.a,{to:"/user/".concat(t,"/").concat(e.key),children:e.label}),"\xa0"]},e.key)}))]}),Object(i.jsx)(I,{page:n,author:"favorited"!==r?t:void 0,favorited:"favorited"===r?t:void 0})]})},$=Object(z.a)()((function(e){var t=e.form,r=t.getFieldProps,n=t.getFieldError,a=Object(M.i)().id,s=Object(M.g)(),j=Object(c.useState)(void 0),u=Object(V.a)(j,2),b=u[0],d=u[1],O=p("/articles/".concat(a),{manual:!0,formatResult:function(e){return Object(l.a)(Object(l.a)({},e.article),{},{tag:e.article.tagList.join(",")})}}),h=O.data,x=void 0===h?{}:h,m=O.loading,g=O.run,v=O.mutate;Object(W.a)((function(){a?g():v({title:"",description:"",body:"",tag:""})}));var y=function(){var t=Object(_.a)(L.a.mark((function t(){var r,c,n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.form.validateFields();case 2:return r=t.sent,c=Object(l.a)(Object(l.a)({},r),{},{tagList:r.tag.split(",").map((function(e){return e.replace(/(^\s*)|(\s*$)/g,"")}))}),t.prev=4,t.next=7,f.post("/articles",{article:c});case 7:n=t.sent,s.push("/article/".concat(n.article.slug)),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),console.error(t.t0.response.data.errors),d(t.t0.response.data.errors);case 15:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(){return t.apply(this,arguments)}}();return m?"loading...":Object(i.jsxs)("section",{children:[Object(i.jsx)(D,{title:a?"Edit Article":"Create new Article"}),Object(i.jsxs)("form",{children:[Object(i.jsx)(o,{errorMsg:b}),Object(i.jsxs)("label",{children:[Object(i.jsx)("summary",{children:"Title: "}),Object(i.jsx)("input",Object(l.a)({type:"text",placeholder:"Article Title"},r("title",{rules:[{required:!0}],initialValue:x.title})))]}),Object(i.jsx)("span",{className:"error",children:n("title")}),Object(i.jsx)("br",{}),Object(i.jsxs)("label",{children:[Object(i.jsx)("summary",{children:"Description: "}),Object(i.jsx)("input",Object(l.a)({type:"text",placeholder:"What's this article about?"},r("description",{rules:[{required:!0}],initialValue:x.description})))]}),Object(i.jsx)("span",{className:"error",children:n("description")}),Object(i.jsx)("br",{}),Object(i.jsxs)("label",{children:[Object(i.jsx)("summary",{children:"Content: "}),Object(i.jsx)("textarea",Object(l.a)(Object(l.a)({placeholder:"Write your article (in markdown)"},r("body",{rules:[{required:!0}],initialValue:x.body})),{},{style:{height:"100px"}}))]}),Object(i.jsx)("span",{className:"error",children:n("body")}),Object(i.jsx)("br",{}),Object(i.jsxs)("label",{children:[Object(i.jsx)("summary",{children:"Tag: "}),Object(i.jsx)("input",Object(l.a)({type:"text",placeholder:"Enter tags"},r("tag",{initialValue:x.tag})))]}),Object(i.jsx)("span",{className:"error",children:n("tag")}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{type:"button",onClick:y,children:" Publish Article "})]})]})})),K=Object(z.a)()((function(e){var t=e.form,r=t.getFieldProps,n=t.getFieldError,a=Object(M.g)(),s=Object(c.useState)(void 0),j=Object(V.a)(s,2),u=j[0],b=j[1],d=Object(c.useContext)(H),O=d.userInfo,h=d.setUserInfo,x=p((function(e){return{url:"/user",method:"put",data:{user:e}}}),{manual:!0,onSuccess:function(e){var t=e.user;h(t),localStorage.setItem("token",t.token),a.push("/user/".concat(t.username))},onError:function(e){var t=e.response;console.error(t.data.errors),b(t.data.errors)}}).run,f=function(){var t=Object(_.a)(L.a.mark((function t(){var r;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(void 0),t.next=3,e.form.validateFields();case 3:r=t.sent,x(r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return O?Object(i.jsxs)("section",{children:[Object(i.jsx)(D,{title:"Your Settings"}),Object(i.jsxs)("form",{children:[Object(i.jsx)(o,{errorMsg:u}),Object(i.jsxs)("label",{children:[Object(i.jsx)("summary",{children:"Avatar: "}),Object(i.jsx)("input",Object(l.a)({type:"text",placeholder:"URL of profile picture"},r("image",{initialValue:O.image||""})))]}),Object(i.jsx)("span",{className:"error",children:n("image")}),Object(i.jsx)("br",{}),Object(i.jsxs)("label",{children:[Object(i.jsx)("summary",{children:"Username: "}),Object(i.jsx)("input",Object(l.a)({type:"text",placeholder:"Your username here"},r("username",{rules:[{required:!0}],initialValue:O.username})))]}),Object(i.jsx)("span",{className:"error",children:n("username")}),Object(i.jsx)("br",{}),Object(i.jsxs)("label",{children:[Object(i.jsx)("summary",{children:"BIO: "}),Object(i.jsx)("textarea",Object(l.a)(Object(l.a)({placeholder:"Short bio about you"},r("bio",{initialValue:O.bio||""})),{},{style:{height:"50px"}}))]}),Object(i.jsx)("span",{className:"error",children:n("bio")}),Object(i.jsx)("br",{}),Object(i.jsxs)("label",{children:[Object(i.jsx)("summary",{children:"Email: "}),Object(i.jsx)("input",Object(l.a)({type:"text",placeholder:"your login email"},r("email",{rules:[{required:!0}],initialValue:O.email})))]}),Object(i.jsx)("span",{className:"error",children:n("email")}),Object(i.jsx)("br",{}),Object(i.jsxs)("label",{children:[Object(i.jsx)("summary",{children:"Password: "}),Object(i.jsx)("input",Object(l.a)({type:"password",placeholder:"Enter new password"},r("password",{initialValue:""})))]}),Object(i.jsx)("span",{className:"error",children:n("password")}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{type:"button",onClick:f,children:" Update Settings "})]}),Object(i.jsx)("span",{className:"link-btn",onClick:function(){localStorage.removeItem("token"),h(void 0),m(void 0),a.push("/home")},children:"Or click here to logout."}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{})]}):"loading..."}));var X=function(){var e=Object(c.useContext)(H),t=e.userInfo,r=e.setUserInfo,n=p("user",{manual:!0,onSuccess:function(e){return r(null===e||void 0===e?void 0:e.user)}}).run;return Object(W.a)((function(){var e=localStorage.getItem("token");e&&(m(e),n())})),Object(i.jsxs)("div",{children:[Object(i.jsxs)("header",{className:"header-area flex-wrap",children:[Object(i.jsx)("b",{children:Object(i.jsx)(s.a,{to:"/",children:"conduit"})}),Object(i.jsxs)("div",{children:[Object(i.jsx)(s.a,{to:"/",children:"Home"}),Object(i.jsx)(P,{}),t?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(s.a,{to:"/editor",children:"New Article"}),Object(i.jsx)(P,{}),Object(i.jsx)(s.a,{to:"/settings",children:"Setting"}),Object(i.jsx)(P,{}),Object(i.jsx)(s.a,{to:"/user/".concat(t.username),children:t.username})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(s.a,{to:"/login",children:"Sign in"}),Object(i.jsx)(P,{}),Object(i.jsx)(s.a,{to:"/register",children:"Sign up"})]})]})]}),Object(i.jsxs)(M.d,{children:[Object(i.jsx)(M.b,{path:["/register","/login"],component:G}),Object(i.jsx)(M.b,{path:"/home",component:q}),Object(i.jsx)(M.b,{path:"/article/:id",component:B}),Object(i.jsx)(M.b,{path:["/editor/:id","/editor"],component:$}),Object(i.jsx)(M.b,{path:"/settings",component:K}),Object(i.jsx)(M.b,{path:["/user/:username/:tab","/user/:username"],component:Q}),Object(i.jsx)(M.a,{from:"/",to:"/home"})]}),U]})};a.a.render(Object(i.jsx)(M.c,{history:h,children:Object(i.jsx)(T,{children:Object(i.jsx)(X,{})})}),document.getElementById("root"))}},[[266,1,2]]]);
//# sourceMappingURL=main.f5f034fb.chunk.js.map